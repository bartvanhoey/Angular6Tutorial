<form [formGroup]="employeeForm" (ngSubmit)="onSubmit()" class="form-horizontal" novalidate>
  <div class="card">
    <div class="card-header">
      <h3>Create Employee</h3>
    </div>
    <div class="card-body">

      <!-- Full Name -->
      <div class="form-group ">
        <label for="fullName" class="col-sm-2 control-label">Full Name</label>
        <div class="col-sm-8">
          <input formControlName="fullName" id="fullName" type="text" class="form-control" (blur)="logValidationErrors()"
            [class.is-invalid]="formErrors.fullName">
          <span class="invalid-feedback">
            {{formErrors.fullName}}
          </span>
        </div>
      </div>

      <!-- Contact Preference -->
      <div class="form-group  form-inline">
        <div class="col-sm-2">
          <label>Contact Preference</label>
        </div>
        <div class="col-sm-8">
          <div class="form-check-inline">
            <label class="form-check-label">
              <input type="radio" value="email" formControlName="contactPreference">Email
            </label>
          </div>
          <div class="form-check-inline">
            <label class="form-check-label">
              <input type="radio" value="phone" formControlName="contactPreference">Phone
            </label>
          </div>
        </div>
      </div>

      <div formGroupName="emailGroup">
        <!-- Email -->
        <div class="form-group">
          <label for="email" class="col-sm-2 control-label">Email</label>
          <div class="col-sm-8">
            <input formControlName="email" id=email type="text" class="form-control" (blur)="logValidationErrors()"
              [class.is-invalid]="formErrors.email">
            <span class="invalid-feedback">
              {{formErrors.email}}
            </span>
          </div>
        </div>
        <!-- Confirm Email -->
        <div class="form-group">
          <label for="confirmEmail" class="col-sm-2 control-label">Confirm Email</label>
          <div class="col-sm-8">
            <input formControlName="confirmEmail" id=confirmEmail type="text" class="form-control" (blur)="logValidationErrors()"
              [class.is-invalid]="formErrors.confirmEmail || formErrors.emailGroup">
            <span class="invalid-feedback">
              {{formErrors.confirmEmail ? formErrors.confirmEmail : formErrors.emailGroup}}
            </span>
          </div>
        </div>
      </div>

      <!-- Phone -->
      <div class="form-group">
        <label for="phone" class="col-sm-2 control-label">Phone</label>
        <div class="col-sm-8">
          <input formControlName="phone" id=phone type="text" class="form-control" (blur)="logValidationErrors()"
            [class.is-invalid]="formErrors.phone">
          <span class="invalid-feedback">
            {{formErrors.phone}}
          </span>
        </div>
      </div>

      <!-- Skills -->

      <div formArrayName="skills">
        <div formGroupName="0">
          <div class="form-group form-inline">
            <!-- Skills Name -->
            <label for="skillName" class="col-sm-2 control-label">Skill</label>
            <div class="col-sm-4">
              <input type="text" id="skillName" placeholder="Name" formControlName="skillName" class="form-control"
                (blur)="logValidationErrors()" [class.is-invalid]="formErrors.skillName">
              <span class="invalid-feedback">
                {{formErrors.skillName}}
              </span>
            </div>

            <!-- Experience in Years -->
            <div class="col-sm-4">
              <input type="text" class="form-control" placeholder="Experience in Years" formControlName="experienceInYears"
                (blur)="logValidationErrors()" [class.is-invalid]="formErrors.experienceInYears">
              <span class="invalid-feedback">
                {{formErrors.experienceInYears}}
              </span>
            </div>
          </div>

          <!-- Proficiency -->
          <div class="form-group form-inline">
            <div class="col-sm-2">
              <label>Proficiency</label>
            </div>
            <div class="col-sm-8">
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input (blur)="logValidationErrors()" [class.is-invalid]="formErrors.proficiency" type="radio" id="proficiency"
                    value="beginner" formControlName="proficiency" class="form-check-input">Beginner <br>
                </label>
              </div>
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input (blur)="logValidationErrors()" [class.is-invalid]="formErrors.proficiency" type="radio" id="proficiency"
                    value="intermediate" formControlName="proficiency" class="form-check-input">intermediate
                </label>
              </div>
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input (blur)="logValidationErrors()" [class.is-invalid]="formErrors.proficiency" type="radio" id="proficiency"
                    value="advanced" formControlName="proficiency" class="form-check-input">Advanced
                </label>
              </div>
              <div *ngIf="formErrors.proficiency">
                <span [class.is-invalid]="formErrors.proficiency">{{formErrors.proficiency}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card-footer">
      <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
        <div class="btn-group mr-2" role="group" aria-label="First group">
          <button class="btn btn-primary" type="submit">Save</button>
        </div>
        <div class="btn-group mr-2" role="group" aria-label="Second group">
          <button class="btn btn-primary" type="button" (click)='onLoadDataClick()'>Load Data</button>
        </div>
      </div>
    </div>
  </div>
</form>

<table border="1">
  <tr>
    <th style="padding:10px">Email</th>
  </tr>
  <tr>
    <td style="padding:10px">touched: {{employeeForm.get('emailGroup').get('email').touched}}
      <br>dirty: {{employeeForm.get('emailGroup').get('email').dirty}}
      <br>valid: {{employeeForm.get('emailGroup').get('email').valid}}
      <br>value: {{employeeForm.get('emailGroup').get('email').value | json}}
      <br>errors: {{employeeForm.get('emailGroup').get('email').errors | json}}
    </td>
  </tr>
</table>

<table border="1">
  <tr>
    <th style="padding:10px">Confirm Email</th>
  </tr>
  <tr>
    <td style="padding:10px">touched: {{employeeForm.get('emailGroup').get('confirmEmail').touched}}
      <br>dirty: {{employeeForm.get('emailGroup').get('confirmEmail').dirty}}
      <br>valid: {{employeeForm.get('emailGroup').get('confirmEmail').valid}}
      <br>value: {{employeeForm.get('emailGroup').get('confirmEmail').value | json}}
      <br>errors: {{employeeForm.get('emailGroup').get('confirmEmail').errors | json}}
    </td>
  </tr>
</table>

<table border="1">
  <tr>
    <th style="padding:10px">Form Group</th>
  </tr>
  <tr>
    <td style="padding:10px">touched: {{employeeForm.get('emailGroup').touched}}
      <br>dirty: {{employeeForm.get('emailGroup').dirty}}
      <br>valid: {{employeeForm.get('emailGroup').valid}}
      <br>value: {{employeeForm.get('emailGroup').value | json}}
      <br>errors: {{employeeForm.get('emailGroup').errors | json}}
    </td>
  </tr>
</table>